apply plugin: 'com.android.library'
apply plugin: 'kotlin-android'
apply plugin: 'kotlin-android-extensions'

apply plugin: 'com.jfrog.bintray'
apply plugin: 'com.github.dcendents.android-maven'

ext {
    bintrayRepo = Ext.repoName
    bintrayName = "${Ext.groupName}.${Ext.artifact}"

    publishedGroupId = Ext.groupName
    libraryName = Ext.artifact
    artifact = Ext.artifact

    libraryDescription = Ext.libraryDescription

    siteUrl = Ext.siteUrl
    gitUrl = Ext.gitUrl

    libraryVersion = Ext.versionName

    developerId = Ext.developerId
    developerName = Ext.developerName
    developerEmail = Ext.developerEmail

    licenseName = Ext.licenseName
    licenseUrl = Ext.licenseUrl
    allLicenses = Ext.allLicenses
}

android {
    compileSdkVersion Android.compileSdk
    defaultConfig {
        minSdkVersion Android.minSdk
        targetSdkVersion Android.targetSdk
        versionCode Ext.versionCode
        versionName Ext.versionName
        testInstrumentationRunner Android.testInstrumentationRunner
    }

    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
        }
    }

}

dependencies {
    implementation fileTree(dir: 'libs', include: ['*.jar'])
    implementation Dependencies.kotlinStdLib
    implementation Dependencies.appcompat
    implementation Dependencies.recyclerView
    implementation Dependencies.ktx

    testImplementation Dependencies.junit
    androidTestImplementation Dependencies.runner
    androidTestImplementation Dependencies.espresso
}

//Add these lines to publish library to bintray. This is the readymade scripts made by github user nuuneoi to make uploading to bintray easy.
//Place it at the end of the file
if (project.rootProject.file('local.properties').exists()) {
    apply from: '../gradle/install.gradle'
    apply from: '../gradle/bintray.gradle'
}